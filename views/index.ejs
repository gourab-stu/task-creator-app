<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="https://res.cloudinary.com/dvkmi9cmw/image/upload/v1738417349/task-creator-app-db/favicon.ico">
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <title>Task Creator and Manager</title>
    <script src="/javascripts/script.js"></script>
  </head>
  <body>
    <div class="main w-full min-h-screen bg-zinc-900">
      <header class="px-10 py-5 text-white text-2xl bg-sky-700 shadow-md sticky top-0">Task Creator and Manager</header>
      <h2 class="px-10 pt-5 text-white text-xl">Task Creator</h2>
      <div class="form px-10 py-5 text-white">
        <form action="/create" method="post" onsubmit="return validate(event);">
          <input type="text" class="block w-full rounded-md outline-none px-5 py-2 bg-zinc-800 shadow-md" placeholder="Title goes here" name="title" required="true" />
          <textarea class="block w-full rounded-md outline-none mt-2 px-5 py-2 resize-none bg-zinc-800 shadow-md" placeholder="Write your task details here" name="details"></textarea>
          <button type="submit" class="mt-2 bg-blue-500/50 hover:bg-blue-500/40 text-gray-300 cursor-pointer px-5 py-2 rounded-md shadow-md">Create Task</button>
        </form>
      </div>
      <h1 class="px-10 text-white text-xl">Tasks</h1>
      <div class="tasks flex gap-3 flex-wrap px-10 py-5">
        <% if (tasks.length > 0) { %>
          <% tasks.forEach((task) => { %>
            <div class="task min-w-10 p-4 bg-zinc-800 hover:bg-zinc-800/70 text-center cursor-pointer shadow-lg rounded-lg" href="view/<%= task.title.split(" ").join(".") %>" onclick="view(event)">
              <h1 class="text-gray-300 text-xl tracking-tight"><%= task.title %></h1>
              <div class="flex w-full justify-between items-center mt-4">
                <a class="text-blue-400 hover:text-blue-400/80 inline-block text-sm" href="/view/<%= task.title.split(" ").join(".") %>">View</a>
                <a class="text-zinc-400 hover:text-zinc-400/80 inline-block text-sm px-3" href="/edit/<%= task.title.split(" ").join(".") %>">Edit</a>
                <a class="text-red-400 hover:text-red-400/80 inline-block text-sm" href="/delete/<%= task.title.split(" ").join(".") %>">Delete</a>
              </div>
            </div>
          <% }); %>
        <% } else { %>
          <h3 class="text-zinc-600">no tasks yet</h3>
        <% } %>
      </div>
    </div>
  </body>
</html>
