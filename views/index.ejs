<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="https://res.cloudinary.com/dvkmi9cmw/image/upload/v1738417349/task-creator-app-db/favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bad+Script&family=Open+Sans:ital,wdth,wght@0,87.5,300..800;1,87.5,300..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/stylesheets/style.css">
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>
    <title>Task Creator and Manager</title>
  </head>
  <body >
    <div class="main w-full min-h-screen bg-slate-900">
      <header class="flex flex-wrap pl-7 py-3 text-white text-2xl bg-sky-700 justify-between shadow-md sticky top-0">
        Task Creator and Manager
        <a href="/logout" type="submit" title="Logout" id="Logout" class="rounded-md bg-slate-700 pt-1 px-3 mr-5 text-sm/6 font-semibold text-slate-200 shadow-xs hover:bg-slate-600 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-slate-600" onclick="return confirm('Do you want to log out ?')">Logout</a>
      </header>
      <h2 class="px-10 pt-5 text-white text-xl">Task Creator</h2>
      <div class="form px-10 py-5 text-white">
        <form action="/create" method="post">
          <input type="text" class="block w-full rounded-md outline-none px-5 py-2 bg-slate-800 shadow-md" placeholder="Title goes here" name="title" required="true" />
          <textarea class="block w-full rounded-md outline-none mt-2 px-5 py-2 resize-none bg-slate-800 shadow-md" placeholder="Write your task details here" name="details"></textarea>
          <button type="submit" class="mt-2 bg-sky-500/50 hover:bg-sky-500/40 text-gray-300 cursor-pointer px-5 py-2 rounded-md shadow-md">Create Task</button>
        </form>
      </div>
      <h1 class="px-10 text-white text-xl">Tasks</h1>
      <div class="tasks flex gap-3 flex-wrap px-10 py-5">
        <% if (tasks.length > 0) { %>
          <% tasks.forEach((task) => { %>
            <div class="task min-w-10 p-4 bg-slate-800 hover:bg-slate-800/70 text-center cursor-pointer shadow-lg rounded-lg" href="view/<%= task._id %>">
              <h1 class="title text-gray-300 text-xl tracking-tight"><%= task.title %></h1>
              <div class="flex w-full justify-between items-center mt-4">
                <a class="text-sky-400 hover:text-sky-400/80 inline-block text-sm" href="/view/<%= task._id %>">View</a>
                <a class="text-slate-400 hover:text-slate-400/80 inline-block text-sm px-6" href="/edit/<%= task._id %>">Edit</a>
                <a class="text-red-400 hover:text-red-400/80 inline-block text-sm" href="/delete/<%= task._id %>" onclick="return confirm('Do you want to delete this task?')">Delete</a>
              </div>
            </div>
          <% }); %>
        <% } else { %>
          <h3 class="text-slate-600">no tasks yet</h3>
        <% } %>
      </div>
    </div>
  </body>
</html>
